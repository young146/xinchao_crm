# ⚙️ 발행 일정 UI 편집 - 사용 방법

## 🎯 개요

이제 **파일을 직접 수정할 필요 없이** 대시보드 UI에서 발행 일정을 추가/수정/삭제할 수 있습니다!

```
파일 편집 (이전) → UI 편집 (현재)
   ❌ 어려움      →    ✅ 쉬움
```

---

## 🚀 빠른 시작

### 1. 발행 일정 편집 모드 열기

```
1. 대시보드 접속
2. "📅 발행 일정" 탭 클릭
3. 우측 상단 "⚙️ 일정 편집 모드" 버튼 클릭
```

### 2. 새 호수 추가

```
1. "새 호수 추가" 섹션에서:
   - 호수 번호: 555
   - 발행 날짜: 2026-03-05
   - 상태: 예정 (또는 발행됨)

2. "➕ 추가" 버튼 클릭

3. ✅ 즉시 저장됨!
```

### 3. 기존 호수 수정

```
방법 1: 날짜 클릭
- 목록에서 날짜를 클릭하면 입력 필드로 변경됨
- 날짜 수정 후 포커스 아웃 (클릭 밖으로 나가기)
- ✅ 자동 저장됨

방법 2: 상태 드롭다운
- "예정" / "발행됨" 드롭다운 선택
- ✅ 즉시 저장됨

방법 3: 빠른 발행 버튼
- "✓ 발행" 버튼 클릭 (예정 상태인 경우만 표시)
- ✅ 즉시 "발행됨"으로 변경
```

---

## 📋 주요 기능

### 1. ➕ 새 호수 추가

#### 화면 구성
```
┌─────────────────────────────────────────────────┐
│ ➕ 새 호수 추가                                  │
├─────────────────────────────────────────────────┤
│ [호수번호] [발행날짜] [상태▼] [➕ 추가]        │
│   555     2026-03-05   예정                     │
└─────────────────────────────────────────────────┘
```

#### 입력 항목
- **호수 번호**: 숫자로 입력 (예: 555)
- **발행 날짜**: 달력에서 선택 (YYYY-MM-DD)
- **상태**: 
  - `예정`: 아직 발행되지 않음
  - `발행됨`: 이미 발행됨

#### 주의사항
```
✅ 같은 호수가 이미 있으면 확인 메시지 표시
✅ 호수는 1 이상의 정수만 가능
✅ 날짜와 호수는 필수 입력
```

---

### 2. 📝 기존 호수 수정

#### 목록 화면
```
┌─────┬──────────┬─────┬──────┬────────────────┐
│호수 │발행 날짜 │상태 │간격  │작업            │
├─────┼──────────┼─────┼──────┼────────────────┤
│553  │2026.02.05│발행 │16일  │[✏️수정][🗑️삭제]│
│554  │2026.02.20│예정 │15일  │[✓발행][✏️][🗑️] │
│555  │2026.03.05│예정 │14일  │[✓발행][✏️][🗑️] │
└─────┴──────────┴─────┴──────┴────────────────┘
```

#### 편집 방법

##### 날짜 수정
1. **클릭 편집**
   - 날짜 클릭 → 입력 필드로 변경
   - 날짜 선택
   - 밖을 클릭하면 자동 저장

2. **수정 버튼**
   - "✏️ 수정" 버튼 클릭
   - 날짜 필드가 활성화됨
   - 수정 후 밖을 클릭하면 저장

##### 상태 변경
1. **드롭다운 선택**
   - 상태 드롭다운 클릭
   - "예정" 또는 "발행됨" 선택
   - 즉시 저장됨

2. **빠른 발행 버튼**
   - "✓ 발행" 버튼 클릭
   - 예정 → 발행됨 (즉시 변경)
   - 대시보드 전체에 즉시 반영

---

### 3. 🗑️ 호수 삭제

```
1. 목록에서 "🗑️ 삭제" 버튼 클릭
2. 확인 메시지 표시
3. "확인" 클릭 시 삭제됨
4. ✅ 즉시 저장됨
```

**주의**: 삭제된 호수는 복구할 수 없습니다 (백업 권장)

---

### 4. 💾 백업 & 복원

#### 내보내기 (백업)
```
1. 우측 상단 "📥 내보내기" 버튼 클릭
2. JSON 파일 자동 다운로드
3. 파일명: volume-schedule-2026-02-16.json
```

#### 가져오기 (복원)
```
1. 우측 상단 "📤 가져오기" 버튼 클릭
2. 이전에 내보낸 JSON 파일 선택
3. 확인 메시지에서 "확인" 클릭
4. ✅ 일정이 복원됨
```

---

### 5. 🔄 초기화

```
1. 우측 상단 "🔄 초기화" 버튼 클릭
2. 확인 메시지 표시
3. "확인" 클릭 시 기본 일정으로 되돌림
```

**주의**: 모든 사용자 설정이 삭제됩니다!

---

## 🎨 UI 상태 표시

### 호수 색상 구분

```
🔵 현재 발행 중 (주황색 배경)
- Vol 553 (현재)
- 현재 날짜 기준 가장 최근 발행 호수

✅ 발행됨 (회색 배경)
- Vol 552
- 이미 발행이 완료된 호수

📘 예정 (파란색 배경)
- Vol 554
- 앞으로 발행될 호수
```

### 간격 표시

```
📆 정상 (녹색) - 14~16일
- 격주 발행 (정상 주기)

⚠️ 예외 (주황색) - 18일 이상
- 3주 간격 (휴일 조정)
```

---

## 🔄 자동 적용 원리

### 저장 방식

```
localStorage (브라우저 저장소)
       ↓
즉시 저장 (서버 불필요)
       ↓
페이지 새로고침 시 자동 로드
       ↓
모든 컴포넌트에 자동 반영
```

### 데이터 병합

```
기본 일정 (volumeSchedule.js)
       +
사용자 설정 (localStorage)
       =
최종 일정 (VOLUME_SCHEDULE)
```

### 적용 범위

```
발행 일정 UI 편집
       ↓
localStorage 저장
       ↓
┌──────────┬──────────┬──────────┬──────────┐
│현재 Vol  │계약 상태 │고객 카드 │발행 일정 │
│(자동)    │(자동)    │(자동)    │(자동)    │
└──────────┴──────────┴──────────┴──────────┘
```

---

## 📊 실전 시나리오

### 시나리오 1: 새 호 발행됨

#### 상황
```
오늘: 2026.02.20
Vol 554 발행됨
```

#### 작업 순서
```
1. "📅 발행 일정" 탭 → "⚙️ 일정 편집 모드"

2. 목록에서 Vol 554 찾기

3. 방법 A: 빠른 발행
   - "✓ 발행" 버튼 클릭
   - ✅ 즉시 "발행됨"으로 변경

4. 방법 B: 드롭다운
   - 상태 드롭다운 클릭
   - "발행됨" 선택
   - ✅ 즉시 저장

5. "← 보기 모드로 돌아가기" 클릭

6. 자동 적용 확인:
   - 현재 Vol: 553 → 554
   - Vol 549~554 고객: "계약 만료"로 변경
   - Vol 552~557 고객: "4개 호 남음"으로 변경
```

---

### 시나리오 2: 새 호수 추가

#### 상황
```
2026년 하반기 일정 추가 필요
Vol 575~580
```

#### 작업 순서
```
1. "📅 발행 일정" 탭 → "⚙️ 일정 편집 모드"

2. "새 호수 추가" 섹션에서:
   
   Vol 575:
   - 호수: 575
   - 날짜: 2026-07-01
   - 상태: 예정
   - "➕ 추가" 클릭
   
   Vol 576:
   - 호수: 576
   - 날짜: 2026-07-15
   - 상태: 예정
   - "➕ 추가" 클릭
   
   (반복...)

3. 목록에서 추가된 호수 확인

4. "← 보기 모드로 돌아가기"

5. 7월 탭 클릭하여 확인
```

---

### 시나리오 3: 날짜 수정

#### 상황
```
Vol 556 발행일이 휴일이라 연기됨
2026.03.19 → 2026.03.20
```

#### 작업 순서
```
1. "📅 발행 일정" 탭 → "⚙️ 일정 편집 모드"

2. 목록에서 Vol 556 찾기

3. 날짜 "2026.03.19" 클릭

4. 입력 필드가 활성화됨

5. 새 날짜 선택: 2026-03-20

6. 밖을 클릭 (포커스 아웃)

7. ✅ 자동 저장됨

8. 간격이 자동으로 재계산됨
   - Vol 555 → Vol 556: 14일 → 15일
```

---

### 시나리오 4: 백업 후 복원

#### 상황
```
대량 일정 수정 전 백업 필요
```

#### 작업 순서
```
1. 백업:
   - "📅 발행 일정" 탭 → "⚙️ 일정 편집 모드"
   - "📥 내보내기" 클릭
   - JSON 파일 저장됨
   - 파일명: volume-schedule-2026-02-16.json

2. 일정 수정:
   - 여러 호수 날짜 변경
   - 상태 수정
   - ...

3. 문제 발생 시 복원:
   - "📤 가져오기" 클릭
   - 이전에 저장한 JSON 파일 선택
   - 확인 클릭
   - ✅ 백업 시점으로 복원됨
```

---

## ⚠️ 주의사항

### 1. 브라우저 데이터
```
✅ localStorage 사용 (브라우저에 저장)
⚠️ 브라우저 캐시 삭제 시 데이터 손실
💡 중요 변경 전 항상 백업 (내보내기)
```

### 2. 실시간 반영
```
✅ 변경사항은 즉시 저장됨
⚠️ 다른 탭/창에는 페이지 새로고침 필요
💡 편집 후 대시보드에서 F5로 확인
```

### 3. 현재 볼륨 계산
```
✅ 오늘 날짜 기준 자동 계산
⚠️ status가 "published"인 호수만 계산
💡 새 호 발행 시 status를 "발행됨"으로 변경
```

### 4. 데이터 우선순위
```
사용자 설정 (localStorage)
       ↓ 우선
기본 일정 (volumeSchedule.js)
```

---

## 🔧 트러블슈팅

### 문제 1: 변경사항이 반영 안 됨

#### 증상
```
일정을 수정했는데 대시보드에 반영 안 됨
```

#### 해결
```
1. 페이지 새로고침 (F5)
2. 브라우저 캐시 삭제
3. "🔄 초기화" 후 다시 설정
```

---

### 문제 2: 저장이 안 됨

#### 증상
```
"✅ 저장되었습니다" 메시지가 안 나옴
```

#### 해결
```
1. 브라우저 콘솔 확인 (F12)
2. localStorage 용량 확인
3. 시크릿 모드에서 테스트
```

---

### 문제 3: 현재 볼륨이 이상함

#### 증상
```
현재 Vol이 실제와 다름
```

#### 해결
```
1. 발행된 호수의 status 확인
   - "published"로 설정되어 있는지 확인
   
2. 날짜 확인
   - 오늘 날짜 이전인지 확인
   
3. 브라우저 시간 확인
   - 컴퓨터 시계가 정확한지 확인
```

---

### 문제 4: 데이터가 사라짐

#### 증상
```
모든 사용자 설정이 사라짐
```

#### 해결
```
1. 백업 파일 확인
   - 이전에 내보낸 JSON 파일 찾기
   
2. 가져오기로 복원
   - "📤 가져오기" → JSON 파일 선택
   
3. 수동 재입력
   - 백업이 없으면 수동으로 다시 입력
```

---

## 📱 모바일 사용

```
✅ 반응형 디자인 지원
✅ 터치 인터페이스 지원
⚠️ 날짜 입력 시 키보드 표시
💡 가로 모드 권장 (더 넓은 화면)
```

---

## 🎯 Best Practices

### 1. 정기적인 백업
```
매주 금요일:
- "📥 내보내기" 클릭
- JSON 파일을 안전한 곳에 보관
- 파일명에 날짜 포함 (자동)
```

### 2. 변경 전 확인
```
중요한 변경 전:
- 현재 상태 백업
- 변경사항 메모
- 테스트 확인
```

### 3. 일관성 유지
```
날짜 입력 시:
- 격주 발행: 14~16일 간격
- 3주 발행: 18~21일 간격
- 휴일 고려
```

### 4. 상태 관리
```
발행 후:
- 즉시 status를 "발행됨"으로 변경
- 다음 호 추가 (필요 시)
- 대시보드에서 확인
```

---

## 📦 파일 위치

### 컴포넌트
```
src/components/VolumeScheduleEditor.js  - 편집 UI
src/components/VolumeSchedule.js        - 보기 UI
```

### 유틸리티
```
src/utils/volumeSchedule.js             - 일정 로직
```

### 저장소
```
localStorage: volumeSchedule            - 사용자 설정
```

---

## 💡 활용 팁

### 1. 빠른 발행 활용
```
새 호 발행 시:
- 목록에서 해당 호수 찾기
- "✓ 발행" 버튼 한 번 클릭
- ✅ 끝!
```

### 2. 일괄 입력
```
여러 호수 추가 시:
- 엑셀에서 호수/날짜 정리
- 복사 → 붙여넣기 (한 번에 한 항목)
- 빠르게 입력
```

### 3. 간격 확인
```
입력 후 간격 컬럼 확인:
- 📆 (녹색): 정상
- ⚠️ (주황색): 예외
→ 날짜가 맞는지 재확인
```

---

## 🚀 요약

### 핵심 흐름
```
1. "📅 발행 일정" 탭
2. "⚙️ 일정 편집 모드"
3. 추가/수정/삭제
4. 자동 저장 ✅
5. "← 보기 모드로 돌아가기"
6. 모든 곳에 자동 반영 ✅
```

### Before vs After

#### Before (파일 편집)
```
❌ VS Code 열기
❌ volumeSchedule.js 찾기
❌ 코드 수정
❌ 저장 후 앱 재시작
❌ 실수 가능성
```

#### After (UI 편집)
```
✅ 대시보드에서 클릭
✅ 폼에 입력
✅ 즉시 저장
✅ 자동 반영
✅ 직관적
```

---

**💡 이제 파일을 직접 수정할 필요 없이 UI에서 쉽게 발행 일정을 관리하세요!**
